{% extends 'layout.html' %}
{% load static %}
{% block extrahead %}
{% endblock %}

{% block content %}
    <link rel="stylesheet" href="{% static 'gtp/chatgpt_result.css' %}">
    <main class="flex-grow-1">
        <div class = "container">
            <div class = "inner_container">

                <!-- 새로 추가된 부분: 이전 대화 내용 표시 -->
                <div class="chat_history">
                    {% for chat in chat_history %}
                        <div class="user_message">User: {{ chat.user_message }}</div>
                        <div class="gpt_response">GPT: {{ chat.gpt_response }}</div>
                    {% endfor %}
                </div>

                <!-- 기존의 응답 및 질문 폼 -->
                <div class="ai_result">응답 : {{result}}</div>
                <div class = "title">ChatGPT에게 다시 질문하기</div>
                <form class = "form" action="chat" method="post" entype="application/x-www-form-urlencoded">
                    {% csrf_token %}
                        <div><textarea id="question" name="question" placeholder="질문을 입력해주세요."></textarea></div>
                        <div><button id="text-button" type="submit" >질문</button></div>
                </form>

            </div>
        </div>
    </main>
{% endblock%}